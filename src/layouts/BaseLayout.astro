---
const { title = 'Alex Dev' } = Astro.props;
---
<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <meta name="robots" content="index,follow" />
    <meta name="description" content="Portfolio de Alex Dev — demo 3D interactiva con proyectos, skills y contacto." />
    <meta property="og:type" content="website" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content="Explora mis proyectos en una experiencia 3D interactiva." />
    <link rel="icon" href="/img/preview.svg" />
    <title>{title}</title>
    <link rel="stylesheet" href="/css/styles.css" />
  </head>
  <body>
    <a class="skip-link" href="#main">Saltar al contenido principal</a>
    <header role="banner" class="site-header">
      <div class="container">
        <div class="brand"><a href="/">Alex Dev</a></div>
        <nav role="navigation" aria-label="Navegación principal">
          <ul class="nav-list">
            <li><a href="/">Home</a></li>
            <li><a href="/projects">Proyectos</a></li>
            <li><a href="/about">Sobre mí</a></li>
            <li><a href="/contact">Contacto</a></li>
          </ul>
        </nav>
        <div class="header-actions">
          <button id="toggle-controls" class="icon-btn" aria-pressed="false" aria-label="Mostrar controles en pantalla" title="Mostrar controles en pantalla">⚙</button>
        </div>
      </div>
    </header>

    <!-- Left route / ubicaciones panel (desktop only) -->
    <aside id="route-panel" class="route-panel" aria-label="Ubicaciones y recorrido">
      <div class="route-controls">
        <button id="start-tour" class="btn" aria-label="Iniciar recorrido">
          <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="currentColor" d="M8 5v14l11-7z"></path></svg>
          <span class="btn-label">Iniciar recorrido</span>
        </button>
        <button id="cancel-tour" class="btn" style="display:none;" aria-label="Cancelar recorrido">
          <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="currentColor" d="M18.3 5.71L12 12l6.3 6.29-1.41 1.42L10.59 13.41 4.29 19.71 2.88 18.29 9.18 12 2.88 5.71 4.29 4.29 10.59 10.59 16.88 4.29z"></path></svg>
          <span class="btn-label">Cancelar</span>
        </button>
        <button id="next-stop" class="btn" style="display:none;" aria-label="Continuar">
          <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="currentColor" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"></path></svg>
          <span class="btn-label">Continuar</span>
        </button>
      </div> 
      <div class="route-settings">
        <label class="force-label">
          <input id="force-animate" type="checkbox" checked /> <span class="force-text">Forzar animación</span>
        </label>
        <div id="reduced-note" class="reduced-note" aria-live="polite">Aviso: tu sistema solicita movimiento reducido; activar "Forzar animación" lo ignorará.</div>
      </div>
      <ol id="route-list" class="timeline" aria-hidden="false">
        <li class="timeline-item"><div class="route-btn" role="button" tabindex="0" data-target="SKILLS" aria-pressed="false" aria-label="Ir a Skills"><span class="pin" aria-hidden="true"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" width="18" height="18"><defs><linearGradient id="pinGradient" x1="0" x2="1" y1="0" y2="1"><stop offset="0%" stop-color="#00d1ff"/><stop offset="100%" stop-color="#0077ff"/></linearGradient></defs><path fill="url(#pinGradient)" d="M12 2C8.13 2 5 5.13 5 9c0 4.7 6.5 11.6 6.9 12.1.3-.5 6.9-7.4 6.9-12.1 0-3.87-3.13-7-7-7zm0 7.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"></path></svg></span><span class="label">Skills</span></div></li>
        <li class="timeline-item"><div class="route-btn" role="button" tabindex="0" data-target="EXPERIENCIA" aria-pressed="false" aria-label="Ir a Experiencia"><span class="pin" aria-hidden="true"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" width="18" height="18"><defs><linearGradient id="pinGradient2" x1="0" x2="1" y1="0" y2="1"><stop offset="0%" stop-color="#00d1ff"/><stop offset="100%" stop-color="#0077ff"/></linearGradient></defs><path fill="url(#pinGradient2)" d="M12 2C8.13 2 5 5.13 5 9c0 4.7 6.5 11.6 6.9 12.1.3-.5 6.9-7.4 6.9-12.1 0-3.87-3.13-7-7-7zm0 7.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"></path></svg></span><span class="label">Experiencia</span></div></li>
        <li class="timeline-item"><div class="route-btn" role="button" tabindex="0" data-target="PROYECTO 1" aria-pressed="false" aria-label="Ir a Proyectos"><span class="pin" aria-hidden="true"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" width="18" height="18"><defs><linearGradient id="pinGradient3" x1="0" x2="1" y1="0" y2="1"><stop offset="0%" stop-color="#00d1ff"/><stop offset="100%" stop-color="#0077ff"/></linearGradient></defs><path fill="url(#pinGradient3)" d="M12 2C8.13 2 5 5.13 5 9c0 4.7 6.5 11.6 6.9 12.1.3-.5 6.9-7.4 6.9-12.1 0-3.87-3.13-7-7-7zm0 7.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"></path></svg></span><span class="label">Proyectos</span></div></li>
        <li class="timeline-item"><div class="route-btn" role="button" tabindex="0" data-target="CONTACTO" aria-pressed="false" aria-label="Ir a Contacto"><span class="pin" aria-hidden="true"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" width="18" height="18"><defs><linearGradient id="pinGradient4" x1="0" x2="1" y1="0" y2="1"><stop offset="0%" stop-color="#00d1ff"/><stop offset="100%" stop-color="#0077ff"/></linearGradient></defs><path fill="url(#pinGradient4)" d="M12 2C8.13 2 5 5.13 5 9c0 4.7 6.5 11.6 6.9 12.1.3-.5 6.9-7.4 6.9-12.1 0-3.87-3.13-7-7-7zm0 7.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"></path></svg></span><span class="label">Contacto</span></div></li>
        <li class="timeline-item"><div class="route-btn" role="button" tabindex="0" data-target="redes" aria-pressed="false" aria-label="Ir a Redes sociales"><span class="pin" aria-hidden="true"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" width="18" height="18"><defs><linearGradient id="pinGradient5" x1="0" x2="1" y1="0" y2="1"><stop offset="0%" stop-color="#00d1ff"/><stop offset="100%" stop-color="#0077ff"/></linearGradient></defs><path fill="url(#pinGradient5)" d="M12 2C8.13 2 5 5.13 5 9c0 4.7 6.5 11.6 6.9 12.1.3-.5 6.9-7.4 6.9-12.1 0-3.87-3.13-7-7-7zm0 7.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"></path></svg></span><span class="label">Redes sociales</span></div></li>
      </ol>
      <div id="route-announce" class="sr-only" aria-live="polite"></div>
    </aside>

    <!-- Loading overlay shown while the demo loads (accessible, cancelable) -->
    <div id="loading-overlay" class="loading-overlay" aria-hidden="true">
      <div class="loading-content" role="status" aria-live="polite">
        <div class="loading-visual">
          <!-- Simple SVG car that 'flies' in -->
          <svg class="loading-car" viewBox="0 0 128 64" width="180" height="90" aria-hidden="true">
            <g fill="#00aaff">
              <rect x="8" y="28" width="112" height="18" rx="4" />
              <circle cx="34" cy="50" r="6" fill="#111" />
              <circle cx="94" cy="50" r="6" fill="#111" />
            </g>
          </svg>
        </div>
        <div class="loading-text">Cargando demo…</div>
        <div class="loading-actions">
          <button id="manual-load" class="icon-btn" style="display:none;" aria-label="Cargar ahora" title="Cargar ahora">▶ Cargar ahora</button>
          <button id="cancel-load" class="icon-btn" aria-label="Cancelar carga" title="Cancelar carga">✕</button>
        </div>
      </div>
    </div>

    <main id="main" role="main">
      <slot />
    </main>

    <footer class="site-footer">
      <div class="container">© {new Date().getFullYear()} Alex Dev</div>
    </footer>
  </body>
</html>